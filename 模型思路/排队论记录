# 排队论

### 1.背景

 到达的顾客不能立即得到服务，从而排队

### 2.**排队论**（Queuing Theory）

也称随机服务系统理论，就是为解决上述问题而发展 的一门学科。它研究的内容有下列三部分：

（1） 性态问题，即研究各种排队系统的概率规律性，主要是**研究队长分布、等待时间分布和忙期分布**等，包括了瞬态和稳态两种情形。

（2） 优化问题，又分静态优和动态优，前者指优设计。后者指现有排队系统的优运营。

（3） 排队系统的统计推断，即判断一个给定的排队系统符合于哪种模型，以便根据排队理论进行分析研究。

![1568338148326](C:\Users\66400\AppData\Roaming\Typora\typora-user-images\1568338148326.png)

### 3. 排队系统的组成和特征

一般的排队过程都由输入过程、排队规则、服务过程三部分组成

### 3.1 输入过程

输入过程是指顾客到来时间的规律性，可能有下列不同情况： 

（i）顾客的组成可能是有限的，也可能是无限的。 
（ii）顾客到达的方式可能是一个—个的，也可能**是成批的。** 
（iii）顾客到达可以是相互独立的，即以前的到达情况对以后的到达没有影响； 否则是相关的。 
（iv）输入过程可以是平稳的，即相继到达的间隔时间分布及其数学期望、方差等 数字特征都与时间无关，否则是非平稳的。

### 3.2 排队规则

排队规则指到达排队系统的顾客按怎样的规则排队等待，可分为损失制，等待制和 混合制三种. 
（i）损失制（消失制）。当顾客到达时，所有的服务台均被占用，顾客随即离去。 
（ii）**等待制。**当顾客到达时，所有的服务台均被占用，顾客就排队等待，直到接 受完服务才离去。例如出故障的机器排队等待维修就是这种情况。 
排队方式还分为单列、多列和循环队列。

### 3.3 服务过程

i）服务机构。主要有以下几种类型：单服务台；多服务台并联（每个服务台同 时为不同顾客服务）；多服务台串联（多服务台依次为同一顾客服务）；混合型。 （ii）服务规则。按为顾客服务的次序采用以下几种规则： 
①先到先服务，这是通常的情形。 
②后到先服务，如情报系统中，后到的情报信息往往有价值，因而常被优先处理。 ③随机服务，服务台从等待的顾客中随机地取其一进行服务，而不管到达的先后。 
④优先服务，如医疗系统对病情严重的病人给予优先治疗。

### 4.排队模型的符号表示

排队模型用六个符号表示，X, Y, Z, A, B, C

（1） X：表示顾客到达流或者到达间隔时间的分布

（2 ）Y：表示服务时间的分布

（3） Z：表示服务台的数目

（4）A：系统容量限制

（5）B：顾客的源数目

（6）C：是服务规则，例如先到先服务FCFS，后到先服务LCFS

表示顾客到达间隔时间和服务时间的分布的约定符号为：

M —指数分布（M 是 Markov 的字头，因为指数分布具有无记忆性，即 Markov 性）； 
D—确定型（Deterministic）； 
Ek —k 阶爱尔朗(Erlang)分布； 
G —一般（general）服务时间的分布； 
GI —一般相互独立（General Independent）的时间间隔的分布。 
例如，M/M/1表示相继到达间隔时间为指数分布、服务时间为指数分布、单服务台、等待制系统。 
D/M/c/表示确定的到达时间、服务时间为指数分布、c个平行服务台（但顾客是一队）的模型。

### 5. 排队论系统的运行指标

为了研究排队系统运行的效率，估计其服务质量，确定系统的优参数，评价系统 的结构是否合理并研究其改进的措施，必须确定用以判断系统运行优劣的基本数量指标，这些数量指标通常是： 

(i)平均队长：指系统内顾客数（包括正被服务的顾客与排队等待服务的顾客）的数学期望，记作Ls 。 
(ii)平均排队长:指系统内等待服务的顾客数的数学期望，记作 Lq 。 
(iii)平均逗留时间：顾客在系统内逗留时间（包括排队等待的时间和接受服务的时间）的数学期望，记作Ws 。 
(iv）平均等待时间：指一个顾客在排队系统中排队等待时间的数学期望，记作Wq 。 
(v）平均忙期：指服务机构连续繁忙时间（顾客到达空闲服务机构起，到服务机构再次空闲止的时间）长度的数学期望，记为 Tb

### 6.  输入过程与服务时间的分布

排队系统中的事件流包括顾客到达流和服务时间流。由于顾客到达的间隔时间和服 务时间不可能是负值，因此，它的分布是非负随机变量的分布。常用的分布有**泊松分布、确定型分布，指数分布和爱尔朗分布**。

### 7. M/M/s等待制排队模型

### 7.1 单服务台模型

单服务台等待制模型M/M/1/∞是指：顾客的相继到达时间服从参数为λ的负指数分布，服务台个数为1，服务时间V服从参数为μ的负指数分布，系统空间无限，允许无限排队，这是一类简单的排队系统。

#### 7.1.1 队长分布

![è¿éåå¾çæè¿°](https://img-blog.csdn.net/20180810133037566)

公式（7）和（8）给出了在平衡条件下系统中顾客数为n的概率。由式（7）不难看出，ρ 是系统中至少有一个顾客的概率，也就是服务台处于忙的状态的概率，因而也称 ρ 为服务强度，它反映了系统繁忙的程度。此外，（8）式只有在ρ=λ/μ<=1的条件下才能得到，即要求顾客的平均到达率小于系统的平均服务率，才能使系统达到统计平衡.


### 8. 确定随机变量概率分布的常用方法

在模拟一个带有随机因素的实际系统时，究竟用什么样的概率分布描述问题中的随 机变量，是我们总是要碰到的一个问题，下面简单介绍确定分布的常用方法： 
1. 根据一般知识和经验，可以假定其概率分布的形式，如顾客到达间隔服从指数分布Exp(λ)；产品需求量服从正态分布N(μ,σ22) ；订票后但未能按时前往机场登机的人数服从二项分布B(n,p) 。然后由实际数据估计分布的参数 σ,μ,λ 等，参数估计 可用极大似然估计、矩估计等方法。 
2. 直接由大量的实际数据作直方图，得到经验分布，再通过假设检验，拟合分布 函数，可用χ22检验等方法。 
3. 既缺少先验知识，又缺少数据时，对区间(a,b)内变化的随机变量，可选用Beta 分布（包括均匀分布）。先根据经验确定随机变量的均值μ和频率高时的数值（即密度函数的大值点）m ，则 Beta 分布中的参数α1,α2可由以下关系求出： 

![è¿éåå¾çæè¿°](https://img-blog.csdn.net/20180810134718238)

### 9. 计算机模拟

当排队系统的到达间隔时间和服务时间的概率分布很复杂时，或不能用公式给出 时，那么就不能用解析法求解。这就需用随机模拟法求解